---
title: "Structural Equation Modeling (SEM)<br> using R"
subtitle: 
  - "<br>Intro to R<br>"
  - "<br>23 August 2021"  
output:
  xaringan::moon_reader:
    css:
      - xaringan-themer.css
      - css/presentation.css
    nature:
      slideNumberFormat: "%current%"
      highlightStyle: github
      highlightLines: true
      ratio: 16:9
      countIncrementalSlides: false
    includes:
      after_body: "collapseoutput.js"
---

layout: true

```{r meta, echo=FALSE}
# libraries
pacman::p_load(knitr, tidyverse, psych, EFAtools, janitor, metathis)

xaringanExtra::use_share_again()
xaringanExtra::style_share_again(share_buttons = c("twitter", "facebook", "linkedin"))

meta() %>% 
  meta_name("github-repo" = "chris-allones/SEM-R-training") %>% 
  meta_social(
    title = "SEM using R",
    description = "Training on structural equation modeling using R.",
    url = "https://chris-allones.github.io/SEM-R-training/index.html",
    image = "https://chris-allones.github.io/SEM-R-training/images/preview.png",
    og_type = "website",
    og_author = "Christopher Llones",
    twitter_card_type = "summary_large_image",
    twitter_creator = "@Topenomics",
    twitter_site = "@Topenomics"
  )

```

```{r setup, echo=FALSE}
# working directory
setwd(dir = "D:/OneDrive - KMITL/Documents/Git files/trainings/SEM_presentation/00_intro_r/")

options(htmltools.dir.version = FALSE,
        knitr.table.format = "html")

knitr::opts_chunk$set(
  fig.width=9, fig.height=3.5, fig.retina=3,
  out.width = "100%",
  cache = FALSE,
  echo = TRUE,
  message = FALSE, 
  warning = FALSE,
  hiline = TRUE,
  comment = "",
  fig.retina = 3
)

```

```{r xaringan-themer, echo=FALSE, warning=FALSE}
library(xaringanthemer)

xaringanExtra::use_share_again()
xaringanExtra::style_share_again(share_buttons = c("twitter", "facebook", "linkedin"))
xaringanExtra::use_tile_view()
xaringanExtra::use_extra_styles(hover_code_line = TRUE,
                                mute_unhighlighted_code = FALSE)

xaringanExtra::use_animate_css()
xaringanExtra::use_animate_all("fade")

style_duo_accent(
  primary_color = "#073b4c",
  secondary_color = "#2a9d8f",
  inverse_background_color = "#073b4c",
  inverse_header_color = "#fff",
  # title_slide_background_color = "#073b4c",
  title_slide_background_image = "img/background.jpg",
  title_slide_text_color = "#212529",
  text_font_size = "1.1rem"
)


```


---

## Overview

+ R objects

+ R packages

+ Importing data

+ Basic data wrangling

  +  %>% pipe operator 
  + `select()`
  + `filter()`
  + `mutate()`
  + `rename()`
  + `arrange()`
  + `group_by()` and `summarize()`
  
---

### It's normal to struggle but it gets better and exciting!


```{r echo=FALSE, out.width="80%", fig.align='center'}
knitr::include_graphics("img/r_first_then_new.png")
```

.fifty[Illustration adapted from [Allison Horst](https://twitter.com/allison_horst)]

---

## R Objects

.leftcol60[
+ You can consider R objects as "*saving information*"

+ e.g., text, number, matrix, vector, dataframe.

+ In other words everything in R is an object.
]

.rightcol40[
```{r echo=FALSE, out.width="60%"}
knitr::include_graphics("img/r_objects.gif")
```
]



---

## R Objects

+ Objects are assigned a value using **`<-`** consider the piece of code.

.leftcol[
.details[
```{r}
a1 <- 10
print(a1)
```
]

.details[
```{r}
a2 <- 20
a2
```
]

.details[
```{r}
a3 <- c(10, 20, 30)
a3
```
]
]

.rightcol[

.details[
```{r}
a1 * a2
```
]

.details[
```{r}
st_name <- "christopher"
st_age <- 23
st_sex <- "male"

student <- c(st_name, st_age, st_sex)
student
```
]
]

---

## R Objects

.leftcol[
+ Object names can be anything here!

+ I personally use lower-case style.

+ Check-out the recommended good practices in R (e.g., naming objects, writing codes)by the [tidyverse style guide](https://style.tidyverse.org/syntax.html)
]

---

## R packages

.leftcol60[
+ Collection of functions that load into your working environment.

+ It contain code that other R users have prepared for the community.

+ Installing packages

```{r eval=FALSE}
install.packages("tidyverse")
```

+ Loading packages

```{r eval=FALSE}
library(tidyverse)
```

]

.rightcol40[

```{r echo=FALSE, fig.align='right', out.width="70%"}
knitr::include_graphics("img/package.gif")
```
]

---

## Importing data

+ SPSS, Stata, SAS files: [haven package](https://haven.tidyverse.org/)

+ Excel files: [readxl package](https://readxl.tidyverse.org/)

+ CSV files: [readr package](https://readr.tidyverse.org/)


---

## Importing data

#### SPSS, Stata & SAS using [haven package](https://haven.tidyverse.org/)

.leftcol60[

```{r eval=FALSE}
library(haven)
```

```{r eval=FALSE}
# SPSS
read_sav("path/data.sav")
```

```{r eval=FALSE}
# Stata
read_dta("path/data.dta")
```

```{r eval=FALSE}
# SAS
read_sas("path/data.sas7bdat")
```
]

.rightcol40[
```{r echo=FALSE, fig.align='center',out.width="40%"}
knitr::include_graphics("img/haven.png")
```
]

---

## Importing data

#### Excel files using [readxl package](https://readxl.tidyverse.org/)

.leftcol60[

```{r eval=FALSE}
library(readxl)
read_excel("path/dataset.xls")
```

```{r echo=FALSE}
dataset_xl_sample <- readxl::readxl_example("datasets.xlsx")
readxl::read_excel(dataset_xl_sample)

```
]

.rightcol40[
```{r echo=FALSE, fig.align='center',out.width="40%"}
knitr::include_graphics("img/readxl.png")
```
]

---

## Importing data

#### CSV files using [readr package](https://readr.tidyverse.org/)

.leftcol60[
```{r eval=FALSE}
install.packages("readr")
library(readr)
```

```{r eval=FALSE}
# comma separated (CSV) files
read_csv("path/data.csv")
```

```{r eval=FALSE}
# tab separated files
read_tsv("path/data.tsv")
```

```{r eval=FALSE}
# general delimited files
read_delim("path/data.delim")
```
]

.rightcol40[
```{r echo=FALSE, fig.align='center',out.width="40%"}
knitr::include_graphics("img/readr.png")
```
]













